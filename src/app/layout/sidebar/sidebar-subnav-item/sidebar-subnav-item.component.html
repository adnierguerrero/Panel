<div 
  class="relative"
  (mouseenter)="menuHovered = true" 
  (mouseleave)="menuHovered = false"
>
  <a 
    [routerLink]="subItem.path"
    (click)="navigate($event)"
    class="flex items-center py-2 px-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md transition-colors duration-200"
    [class.bg-gray-200]="isActive()"
    [class.dark:bg-gray-700]="isActive()"
    [class.text-gray-900]="isActive()"
    [class.dark:text-white]="isActive()"
  >
    <div class="w-1.5 h-1.5 rounded-full bg-gray-400 dark:bg-gray-600 mr-2" [class.bg-blue-600]="isActive()" [class.dark:bg-blue-500]="isActive()"></div>
    <span class="truncate">{{ subItem.name }}</span>
    
    <!-- Controls visible on hover -->
    <div *ngIf="menuHovered" class="ml-auto flex items-center space-x-2">
      <!-- Set as home page button -->
      <button 
        *ngIf="subItem.isHomePageCandidate && !isHomePage()"
        type="button"
        class="text-gray-400 hover:text-blue-600 focus:outline-none"
        (click)="setAsHomePage($event)"
        aria-label="Set as home page"
        title="Set as home page"
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="12" 
          height="12" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
        >
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
      </button>
      
      <!-- Is home page indicator -->
      <div 
        *ngIf="isHomePage()"
        class="text-blue-600"
        aria-label="Current home page"
        title="Current home page"
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="12" 
          height="12" 
          viewBox="0 0 24 24" 
          fill="currentColor" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
        >
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
      </div>
    </div>
  </a>
</div>
